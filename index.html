<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
 
</head>
<body>
    <script>
        // Function to fetch the API data
        async function fetchApiData() {
          try {
            const response = await fetch('https://opensheet.elk.sh/16dCQP_kbURQGRbGAB1GiIOfgkdFkj88PXxbuGtr2k5Q/ref_list');
            return await response.json();
          } catch (error) {
            console.error('Error fetching API data:', error);
            return null;
          }
        }
        
        // Function to get the first parameter from the URL
        function getFirstParameter() {
          const path = window.location.pathname.slice(1); // Remove leading slash
          return path.split('/')[0]; // Get the first part of the path
        }
        
        // Function to redirect based on the parameter and API data
        async function handleRedirect() {
          const apiData = await fetchApiData();
          if (!apiData) return; // Exit if API fetch failed
        
          const param = getFirstParameter();
        
          // Check if param is empty or 'index.html'
          if (!param || param === 'index.html') {
            window.location.href = 'https://app.rampver.com/ref/inquiries';
            return;
          }
        
          // Check if the param exists in the API data
          for (const item of apiData) {
            if (item.id === param) {
              window.location.href = `https://app.rampver.com/ref/${item.redirect}`;
              return;
            }
          }
        
          // If no match found, you can decide what to do here
          // For example, redirect to a default page or show an error
          console.log('No matching redirect found');
        }
        
        // Call the function when the script loads
        handleRedirect();
            </script>
    
</body>
</html>